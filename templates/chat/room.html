{% extends 'base.html' %}
{% load static %}

{% block title %} chatspace {{ room_addr }} {% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'chat/css/room.css' %}">
{% endblock extra_head %}

{% block scripts %}
<script src="{% static 'chat/js/room.js' %}"></script>
{% endblock scripts %}

{% block content %}
<div class="page-container">
    <header class="top-header">
        <div class="header-title">
            chatspace <span class="room-addr-small">{{ room_addr }}</span>
        </div>
        <div class="profile-icon">
            {{ username|first|upper }}
        </div>
    </header>

    <div class="main-container">
        <div class="doc-pane">
            <div class="doc-header">
                <h3>colabspace</h3>
            </div>
            <textarea id="doc-editor" class="document"></textarea>
        </div>

        <div class="chat-pane">
            <div class="chat-header">
                <h3>chatspace</h3>
            </div>
            <div id="chat-log" class="chat-messages">
                {% for message in messages %}
                    <div class="chat-message">
                        <span class="chat-username">{{ message.username }}:</span>
                        <span class="chat-content">{{ message.content }}</span>
                    </div>
                {% endfor %}
            </div>
            <div class="chat-input">
                <input id="chat-message-input" type="text" placeholder="message..." autocomplete="off">
                <button id="chat-message-submit">send</button>
            </div>
        </div>
    </div>
</div>

    {{ room_addr | json_script:"room_addr" }}
    {{ username | json_script:"username" }}
{% endblock %}

{% block footer %} {% endblock footer %}

{% block extra_scripts %}
<script src="{% static 'chat/js/room.js' %}"></script>
{% endblock %}
